(function(arr){"use strict";arr.forEach(function(item){if(item.hasOwnProperty("remove")){return}Object.defineProperty(item,"remove",{configurable:true,enumerable:true,writable:true,value:function remove(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);var newsTickerUtility={extend:function(a,b){"use strict";for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key]}}return a},escapeHtml:function(s){"use strict";return s.replace(/&/g,"&#x26;").replace(/</g,"&#x3C;").replace(/>/g,"&#x3E;").replace(/"/g,"&#x22;").replace(/'/g,"&#x27;")},escapeUrl:function(s){"use strict";return s.replace(/</g,"&#x3C;").replace(/>/g,"&#x3E;").replace(/"/g,"&#x22;").replace(/'/g,"&#x27;")},getTime:function(){"use strict";var date_obj=new Date;date_obj.setTime(date_obj.getTime());var hour=String(date_obj.getHours());var minute=String(date_obj.getMinutes());if(hour.length===1){hour="0"+hour}if(minute.length===1){minute="0"+minute}return hour+":"+minute},truncate:function(n,useWordBoundary){"use strict";if(this.length<=n){return this}var subString=this.substr(0,n-1);return(useWordBoundary?subString.substr(0,subString.lastIndexOf(" ")):subString)+" ..."},getCookie:function(cname){"use strict";var name=cname+"=";var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1)}if(c.indexOf(name)==0){return c.substring(name.length,c.length)}}return false},deleteCookie:function(name){document.cookie=name+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}};var newsTicker=function(utility){"use strict";var settings=initializedSettings();var states=initializedStates();function initializedSettings(){return{newsDataJson:"source/static.json",cachedCycles:0,tickerClosedInitial:false,layout:"ltr",moveInterval:10,token:0,hideFeaturedNews:false,numberOfNews:10,rssUrl:"",twitterUsername:"",twitterStripLinks:false,twitterStripHashtags:false,twitterStripUsernames:false,featuredNewsBackgroundColor:"#c90016",featuredNewsTitleColor:"#eee",featuredNewsTitleColorHover:"#111",featuredNewsTitleFontSize:38,featuredNewsTitleFontWeight:700,featuredNewsTitleFontFamily:"'Open Sans', sans-serif",featuredNewsTitleFontStyle:"normal",featuredNewsTitleTextTransform:"uppercase",featuredNewsTitleMaxLength:255,featuredNewsTitleEnableLinks:true,featuredNewsTitleOpenLinkNewTab:false,featuredNewsExcerptColor:"#eee",featuredNewsExcerptFontSize:28,featuredNewsExcerptFontWeight:700,featuredNewsExcerptFontFamily:"'Open Sans', sans-serif",featuredNewsExcerptFontStyle:"normal",featuredNewsExcerptTextTransform:"none",featuredNewsExcerptMaxLength:255,slidingNewsBackgroundColor:"#000000",slidingNewsColor:"#eee",slidingNewsColorHover:"#aaaaaa",slidingNewsFontSize:28,slidingNewsFontWeight:700,slidingNewsFontFamily:"'Open Sans', sans-serif",slidingNewsFontStyle:"normal",slidingNewsTextTransform:"uppercase",slidingNewsPadding:112,slidingNewsMaxLength:255,slidingNewsEnableLinks:true,slidingNewsOpenLinksNewTab:false,showClock:true,clockColor:"#111",clockFontSize:28,clockFontWeight:700,clockFontFamily:"'Open Sans', sans-serif",clockFontStyle:"normal",clockUpdate:1e3,clockBackgroundImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAoCAAAAABMCyLdAAAAW0lEQVR42u3MsQ3AMAgEQPZfNDaPoU9cBDkrfBPpb4CzvfdD05l1x/SFN8kJz0ccrT8ihQoVKvxvuDDHRTImlkKFChX+NUz4oHGkVcAniSPKKgM0kR1W5SLJzl5PhcXam8Bd0AAAAABJRU5ErkJggg==",showOpenCloseButton:true,openButtonBackgroundImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAoCAAAAABMCyLdAAAAyklEQVR42u3RrRECMRCG4bSQRigHh6UDNALPUMCVgaeI02iSbH5OQwQ3ID5mmORmyTry6p1HfKtyzg+xZkyBE+kN3oV6gfBkRAVPog528KNB7ydJ8Ki13kwCIDyILSA8iC0gPIhNIDyIbSA8iG0gPIhtIDyIC2Aga26lDvq79bV4biwFgAWPIQJkeBAZIDyeCJDhQeSCJ11rxwe3VXDFB89VcPhhw/FSblx6CrsO/jkYyRmxHEWVPDkrlCOfVIqexPJxBlOKQag4Y09u8b3f8/x+XwAAAABJRU5ErkJggg==",closeButtonBackgroundImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAoCAAAAABMCyLdAAAAy0lEQVR42u3QqxECMRRG4bSwpdAMjhZwaASeoQAaoA0KoAPkzmZz80BDBJlF/IYkE+41zOQU8ImjYowvsRKmwIn0AZ9CLSA8GVHBk6iDHRQGx1u+8QfwMpS6toOrIrhtB/dF8NwOPjYF79j6EGLdq4MQ2zyAdbHuAXQ06ynTff3FO0zZ9EwOYEWExwEhwuOAEOFxQIjwOCBEeCwQIjweCBEeD4QIjwVC3A2nSQZEHfxj0JPRYhnyKlgys1CGbFDBWxLL+gSG4J1QPmFvp9C2CZ2dc0gAAAAASUVORK5CYII=",enableMobileDevices:false,enableTabletDevices:false,enableDevices:[],hideFeaturedNewsMaxWidth:0,hideFeaturedNewsMaxDeviceWidth:0,hideFeaturedNewsLandscape:false,hideFeaturedNewsPortrait:false,applyOnLoad:true,callbacks:{slidingNewsCompleted:false,openButtonClicked:false,closeButtonClicked:false,ajaxRequestSent:false,ajaxRequestReceived:false}}}function initializedStates(){return{news:false,movingTicker:false,totalWidth:false,clockInterval:false,cachedCyclesPerformed:0,tickerClosed:false,domAvailable:true}}function addToDOM(){var html=""+"\x3c!-- featured news --\x3e"+'<div id="tnt-featured-news-container">'+'<div id="tnt-featured-title"></div>'+'<div id="tnt-featured-excerpt"></div>'+"</div>"+"\x3c!-- slider --\x3e"+'<div id="tnt-sliding-news-container">'+"</div>"+"\x3c!-- clock --\x3e"+'<div id="tnt-clock"></div>';var mainBlock=document.createElement("div");mainBlock.id="tnt-container";mainBlock.innerHTML=html;document.body.appendChild(mainBlock);var openButton=document.createElement("div");openButton.id="tnt-open-close";document.body.appendChild(openButton)}function applyStyle(){var css="";if(settings.layout==="rtl"){css+="#tnt-container, #tnt-container *{direction: rtl !important; unicode-bidi: embed !important;}";css+="#tnt-moving-news .tnt-single-sliding-news:not(:last-child){padding-left: "+settings.slidingNewsPadding+"px !important;}";css+="#tnt-clock{right: 0 !important;}";css+="#tnt-open-close{left: 0 !important;}";css+="#tnt-featured-title, #tnt-featured-title > *, #tnt-featured-excerpt, #tnt-featured-excerpt > div{text-align: right !important;}"}else{css+="#tnt-moving-news .tnt-single-sliding-news:not(:last-child){padding-right: "+settings.slidingNewsPadding+"px !important;}";css+="#tnt-clock{left: 0 !important;}";css+="#tnt-open-close{right: 0 !important;}";css+="#tnt-featured-title, #tnt-featured-title > *, #tnt-featured-excerpt, #tnt-featured-excerpt > div{text-align: left !important;}"}css+="#tnt-featured-news-container{background: "+settings.featuredNewsBackgroundColor+"}";if(settings.hideFeaturedNews===true){css+="#tnt-featured-news-container{display: none !important;}"}css+="#tnt-featured-title > *{";css+="color: "+settings.featuredNewsTitleColor+" !important;";css+="font-size: "+Math.min(settings.featuredNewsTitleFontSize,38)+"px !important;";css+="font-weight: "+settings.featuredNewsTitleFontWeight+" !important;";css+="font-family: "+settings.featuredNewsTitleFontFamily+" !important;";css+="font-style: "+settings.featuredNewsTitleFontStyle+" !important;";css+="text-transform: "+settings.featuredNewsTitleTextTransform+" !important;";css+="}";css+="#tnt-featured-title > a:hover{color: "+settings.featuredNewsTitleColorHover+" !important;}";css+="#tnt-featured-excerpt > div{";css+="color: "+settings.featuredNewsExcerptColor+" !important;";css+="font-size: "+Math.min(settings.featuredNewsExcerptFontSize,28)+"px !important;";css+="font-weight: "+settings.featuredNewsExcerptFontWeight+" !important;";css+="font-family: "+settings.featuredNewsExcerptFontFamily+" !important;";css+="font-style: "+settings.featuredNewsExcerptFontStyle+" !important;";css+="text-transform: "+settings.featuredNewsExcerptTextTransform+" !important;";css+="}";css+="#tnt-sliding-news-container > #tnt-moving-news > .tnt-single-sliding-news > *{";css+="color: "+settings.slidingNewsColor+" !important;";css+="font-size: "+Math.min(settings.slidingNewsFontSize,28)+"px !important;";css+="font-weight: "+settings.slidingNewsFontWeight+" !important;";css+="font-family: "+settings.slidingNewsFontFamily+" !important;";css+="font-style: "+settings.slidingNewsFontStyle+" !important;";css+="text-transform: "+settings.slidingNewsTextTransform+" !important;";css+="}";css+="#tnt-sliding-news-container{background: "+settings.slidingNewsBackgroundColor+"!important;}";css+="#tnt-sliding-news-container > #tnt-moving-news > .tnt-single-sliding-news > a:hover{color: "+settings.slidingNewsColorHover+" !important;}";css+="#tnt-clock{";css+="color: "+settings.clockColor+" !important;";css+="font-size: "+Math.min(settings.clockFontSize,28)+"px !important;";css+="font-weight: "+settings.clockFontWeight+" !important;";css+="font-family: "+settings.clockFontFamily+" !important;";css+="font-style: "+settings.clockFontStyle+" !important;";css+='background: url("'+settings.clockBackgroundImage+'") !important;';if(settings.showClock){css+="display: block;"}css+="}";if(settings.showOpenCloseButton){css+="#tnt-open-close{display: block !important;}"}if(states.tickerClosed===false){document.getElementById("tnt-open-close").style.background='url("'+settings.closeButtonBackgroundImage+'")'}else{document.getElementById("tnt-open-close").style.background='url("'+settings.openButtonBackgroundImage+'")'}css+="@media all and (max-width : "+settings.hideFeaturedNewsMaxWidth+"px){#tnt-featured-news-container{display: none !important;}}";css+="@media all and (max-device-width: "+settings.hideFeaturedNewsMaxDeviceWidth+"px){#tnt-featured-news-container{display: none !important;}}";if(settings.hideFeaturedNewsLandscape){css+="@media all and (orientation : landscape){#tnt-featured-news-container{display: none !important;}}"}if(settings.hideFeaturedNewsPortrait){css+="@media all and (orientation : portrait){#tnt-featured-news-container{display: none !important;}}"}var style=document.createElement("style");style.innerHTML=css;style.id="tnt-style";document.head.appendChild(style)}function bindEventListeners(){var applyNewsTicker=function(){addToDOM();document.getElementById("tnt-open-close").addEventListener("click",openCloseNewsTicker);if(states.tickerClosed===true){document.getElementById("tnt-featured-news-container").style.display="none";document.getElementById("tnt-clock").style.display="none";document.getElementById("tnt-sliding-news-container").style.display="none";document.getElementById("tnt-open-close").style.background='url("'+settings.openButtonBackgroundImage+'")';document.getElementById("tnt-open-close").style.display="block";document.getElementById("tnt-open-close").style.visibility="visible"}applyStyle();if(states.tickerClosed===false){requestNews()}};if(settings.applyOnLoad===true){window.addEventListener("load",function(){applyNewsTicker()})}else{applyNewsTicker()}}function openCloseNewsTicker(event){event.stopPropagation();if(states.domAvailable===false){return}if(states.tickerClosed===false){if(typeof settings.callbacks.closeButtonClicked==="function"){settings.callbacks.closeButtonClicked()}clearInterval(states.movingTicker);deleteFeaturedNewsFromDom();deleteSlidingNewsFromDom();applyClosedNewsTickerStyle();states.tickerClosed=true;document.cookie="tickerClosed=true; expires=Thu, 1 Jan 2100 12:00:00 UTC; path=/"}else{if(typeof settings.callbacks.openButtonClicked==="function"){settings.callbacks.openButtonClicked()}applyOpenNewsTickerStyle();requestNews();states.tickerClosed=false;document.cookie="tickerClosed=false; expires=Thu, 1 Jan 2100 12:00:00 UTC; path=/"}}function requestNews(){if(settings.cachedCycles>states.cachedCyclesPerformed&&states.news!==false){var obj={};obj.responseText=JSON.stringify(states.news);receiveNews.call(obj);states.cachedCyclesPerformed++}else{states.domAvailable=false;var oReq=new XMLHttpRequest;oReq.addEventListener("load",receiveNews);oReq.open("POST",settings.newsDataJson);oReq.setRequestHeader("Content-type","application/x-www-form-urlencoded");var params="token="+settings.token;params+="&enable_mobile_devices="+settings.enableMobileDevices;params+="&enable_tablet_devices="+settings.enableTabletDevices;params+="&enable_devices="+JSON.stringify(settings.enableDevices);params+="&hide_featured_news="+settings.hideFeaturedNews;params+="&number_of_news="+settings.numberOfNews;params+="&rss_url="+settings.rssUrl;params+="&twitter_username="+settings.twitterUsername;params+="&twitter_strip_links="+settings.twitterStripLinks;params+="&twitter_strip_hashtags="+settings.twitterStripHashtags;params+="&twitter_strip_usernames="+settings.twitterStripUsernames;oReq.send(params);if(typeof settings.callbacks.ajaxRequestSent==="function"){settings.callbacks.ajaxRequestSent(params)}states.cachedCyclesPerformed=0}}function receiveNews(){if(typeof settings.callbacks.ajaxRequestReceived==="function"){settings.callbacks.ajaxRequestReceived(this.responseText)}if(this.responseText==="Device not enabled."){document.getElementById("tnt-container").remove();document.getElementById("tnt-open-close").remove();return}try{JSON.parse(this.responseText)}catch(e){return}states.news=JSON.parse(this.responseText);addNewsToDOM();showNewsTicker();moveNewsTicker();states.domAvailable=true}function showNewsTicker(){if(document.getElementById("tnt-container").style.visibility!=="visible"){document.getElementById("tnt-container").style.visibility="visible";document.getElementById("tnt-open-close").style.visibility="visible"}document.getElementById("tnt-moving-news").className=""}function moveNewsTicker(){if(settings.layout==="ltr"){document.getElementById("tnt-moving-news").style.left=window.innerWidth+"px";states.movingTicker=setInterval(function(){var currentLeft=parseInt(document.getElementById("tnt-moving-news").style.left,10);if(parseInt(currentLeft-1,10)===-parseInt(states.totalWidth,10)){clearInterval(states.movingTicker);if(typeof settings.callbacks.slidingNewsCompleted==="function"){settings.callbacks.slidingNewsCompleted()}deleteSlidingNewsFromDom();requestNews()}else{document.getElementById("tnt-moving-news").style.left=currentLeft-1+"px"}},settings.moveInterval)}else{document.getElementById("tnt-moving-news").style.right=window.innerWidth+"px";states.movingTicker=setInterval(function(){var currentRight=parseInt(document.getElementById("tnt-moving-news").style.right,10);if(parseInt(currentRight-1,10)===-parseInt(states.totalWidth,10)){clearInterval(states.movingTicker);deleteSlidingNewsFromDom();requestNews()}else{document.getElementById("tnt-moving-news").style.right=currentRight-1+"px"}},settings.moveInterval)}}function addNewsToDOM(){var node=null;var featurednews=states.news.featurednews;var slidingNewsHtml="";var slidingnews=states.news.slidingnews;var truncatedFeaturedTitle="";var truncatedFeaturedExcerpt="";var truncatedSlidingTitle="";var target="";deleteFeaturedNewsFromDom();if(featurednews!==undefined){if(featurednews.newstitle.length>0&&featurednews.newsexcerpt.length>0){truncatedFeaturedTitle=utility.truncate.apply(featurednews.newstitle,[settings.featuredNewsTitleMaxLength,true]);truncatedFeaturedExcerpt=utility.truncate.apply(featurednews.newsexcerpt,[settings.featuredNewsExcerptMaxLength,true]);if(featurednews.url.length>0&&settings.featuredNewsTitleEnableLinks){node=document.createElement("a");node.innerHTML=utility.escapeHtml(truncatedFeaturedTitle);node.href=utility.escapeUrl(featurednews.url);if(settings.featuredNewsTitleOpenLinkNewTab){node.target="_blank"}else{node.target="_self"}document.getElementById("tnt-featured-title").appendChild(node)}else{node=document.createElement("div");node.innerHTML=utility.escapeHtml(truncatedFeaturedTitle);document.getElementById("tnt-featured-title").appendChild(node)}node=document.createElement("div");node.innerHTML=utility.escapeHtml(truncatedFeaturedExcerpt);document.getElementById("tnt-featured-excerpt").appendChild(node);document.getElementById("tnt-featured-news-container").style.display="block"}else{document.getElementById("tnt-featured-news-container").style.display="none"}}else{document.getElementById("tnt-featured-news-container").style.display="none"}for(var index in slidingnews){truncatedSlidingTitle=utility.truncate.apply(slidingnews[index].newstitle,[settings.slidingNewsMaxLength,true]);if(slidingnews[index].url.length>0&&settings.slidingNewsEnableLinks){if(settings.slidingNewsOpenLinksNewTab){target='target="_blank"'}else{target='target="_self";'}slidingNewsHtml+='<div class="tnt-single-sliding-news"><a '+target+' href="'+utility.escapeUrl(slidingnews[index].url)+'">'+utility.escapeHtml(truncatedSlidingTitle)+"</a></div>"}else{slidingNewsHtml+='<div class="tnt-single-sliding-news"><div>'+utility.escapeHtml(truncatedSlidingTitle)+"</div></div>"}}var slidingNewsContainer=document.createElement("div");slidingNewsContainer.id="tnt-moving-news";slidingNewsContainer.className="tnt-visibility-hidden";slidingNewsContainer.innerHTML=slidingNewsHtml;document.getElementById("tnt-sliding-news-container").appendChild(slidingNewsContainer);calculateMovingNewsWidth();document.getElementById("tnt-moving-news").style.width=states.totalWidth+"px";initializeClock()}function deleteFeaturedNewsFromDom(){if(document.getElementById("tnt-featured-title").hasChildNodes()){document.getElementById("tnt-featured-title").firstChild.remove()}if(document.getElementById("tnt-featured-excerpt").hasChildNodes()){document.getElementById("tnt-featured-excerpt").firstChild.remove()}}function deleteSlidingNewsFromDom(){document.getElementById("tnt-moving-news").remove()}function calculateMovingNewsWidth(){document.getElementById("tnt-moving-news").style.width="1000000px";states.totalWidth=0;var collection=document.getElementsByClassName("tnt-single-sliding-news");for(var i=0,max=collection.length;i<max;i++){var elementWidth=collection[i].offsetWidth;states.totalWidth+=elementWidth}states.totalWidth+=1;document.getElementById("tnt-moving-news").style.width="auto"}function applyClosedNewsTickerStyle(){document.getElementById("tnt-featured-news-container").style.display="none";document.getElementById("tnt-clock").style.display="none";document.getElementById("tnt-sliding-news-container").style.display="none";document.getElementById("tnt-open-close").style.background='url("'+settings.openButtonBackgroundImage+'")'}function applyOpenNewsTickerStyle(){if(settings.showClock){document.getElementById("tnt-clock").style.display="block"}document.getElementById("tnt-sliding-news-container").style.display="block";document.getElementById("tnt-open-close").style.background='url("'+settings.closeButtonBackgroundImage+'")'}function initializeClock(){if(settings.showClock===true&&states.clockInterval===false){document.getElementById("tnt-clock").innerHTML=utility.getTime();states.clockInterval=setInterval(function(){document.getElementById("tnt-clock").innerHTML=utility.getTime()},settings.clockUpdate)}}return{initialize:function(configuration){settings=utility.extend(settings,configuration);var tickerClosedCookie=utility.getCookie("tickerClosed");if(tickerClosedCookie!==false){if(tickerClosedCookie==="true"){states.tickerClosed=true}else{states.tickerClosed=false}}else{states.tickerClosed=settings.tickerClosedInitial}bindEventListeners()},destroy:function(){clearInterval(states.movingTicker);clearInterval(states.clockInterval);document.getElementById("tnt-container").remove();document.getElementById("tnt-open-close").remove();document.getElementById("tnt-style").remove();utility.deleteCookie("tickerClosed");settings=initializedSettings();states=initializedStates()},modifySource:function(configuration){var prop=["newsDataJson","token","enableMobileDevices","enableTabletDevices","enableDevices","hideFeaturedNews","numberOfNews","rssUrl","twitterUsername","twitterStripLinks","twitterStripHashtags","twitterStripUsernames"];for(var k in configuration){if(prop.indexOf(k)<0){delete configuration[k]}}settings=utility.extend(settings,configuration)}}}(newsTickerUtility);